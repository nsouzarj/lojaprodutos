    <div id="checkout-modal" class="modal-overlay">
      <div class="modal-content glass-card" style="max-width: 500px;">
        <button id="btn-close-checkout" class="btn-close" aria-label="Fechar">&times;</button>
        
        <div class="modal-header">
          <h2>Finalizar Pagamento</h2>
          <p>Escolha a forma de pagamento desejada</p>
        </div>

        <div style="margin-top: 1rem;">
          <h3 style="text-align: center; margin-bottom: 1rem;">Total: <span id="checkout-total-price" style="color: var(--primary);">R$ 0,00</span></h3>
          
          <div style="background: hsl(var(--bg-secondary)); padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem; border: 1px solid hsl(var(--text-secondary)/0.2);">
            <h4 style="margin-bottom: 0.8rem; font-size: 0.95rem;">Endere칞o de Entrega (Transportadora)</h4>
            <div class="form-group" style="margin-bottom: 0.8rem;">
              <input type="text" id="checkout-zipcode" placeholder="CEP (Apenas n칰meros)" maxlength="9" required>
            </div>
            <div class="form-group" style="margin-bottom: 0.8rem;">
              <input type="text" id="checkout-address" placeholder="Endere칞o (Rua, N칰mero, Bairro)" required>
            </div>
            <div class="form-group">
              <input type="text" id="checkout-city" placeholder="Cidade / Estado" required>
            </div>
          </div>

          <div class="form-group">
            <label for="payment-method">Forma de Pagamento</label>
            <select id="payment-method" style="width: 100%; padding: 0.8rem; border-radius: 8px; border: 1px solid hsl(var(--text-secondary)/0.3); background: hsl(var(--bg-secondary)); color: hsl(var(--text-primary)); margin-top: 0.5rem;" required>
              <option value="cartao_credito">游눱 Cart칚o de Cr칠dito</option>
              <option value="pix">游 PIX</option>
              <option value="boleto">游늯 Boleto Banc치rio</option>
            </select>
          </div>

          <!-- Campos do PIX Din칙micos -->
          <div id="pix-details" style="display: none; text-align: center; margin: 1.5rem 0; background: hsl(var(--bg-secondary)); padding: 1rem; border-radius: 8px; border: 1px dashed hsl(var(--primary)/0.5);">
            <p style="font-size: 0.9rem; margin-bottom: 0.5rem;">Escaneie o QR Code ou copie o c칩digo PIX</p>
            <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=00020126440014BR.GOV.BCB.PIX0114+55119999999995204000053039865802BR5911Loja+Virtual6009SAO+PAULO62070503***6304" alt="QR Code PIX" style="border-radius: 8px; margin-bottom: 1rem;">
            <br>
            <button class="btn btn-outline" style="font-size: 0.8rem;" onclick="window.showDialog('PIX', 'C칩digo PIX copiado com sucesso!', false)">Copiar C칩digo PIX</button>
          </div>

          <!-- Campos do Cart칚o Din칙micos -->
          <div id="credit-card-details" style="display: block; margin: 1.5rem 0; background: hsl(var(--bg-secondary)); padding: 1rem; border-radius: 8px; border: 1px solid hsl(var(--text-secondary)/0.2);">
            <div class="form-group">
              <label>N칰mero do Cart칚o</label>
              <input type="text" id="cc-number" placeholder="0000 0000 0000 0000" maxlength="19" style="width: 100%; margin-top: 0.5rem;" required>
            </div>
            <div style="display: flex; gap: 1rem; margin-top: 0.8rem;">
              <div class="form-group" style="flex:1;">
                <label>Validade</label>
                <input type="text" id="cc-validity" placeholder="MM/AA" maxlength="5" style="width: 100%; margin-top: 0.5rem;" required>
              </div>
              <div class="form-group" style="flex:1;">
                <label>CVV</label>
                <input type="text" id="cc-cvv" placeholder="123" maxlength="4" style="width: 100%; margin-top: 0.5rem;" required>
              </div>
            </div>
            <div class="form-group" style="margin-top: 0.8rem;">
              <label>N칰mero de Parcelas</label>
              <select id="cc-installments" style="width: 100%; margin-top: 0.5rem; padding: 0.8rem; border-radius: 8px; border: 1px solid hsl(var(--text-secondary)/0.3); background: hsl(var(--bg-secondary)); color: hsl(var(--text-primary));" required>
                <option value="1">1x ( vista)</option>
              </select>
            </div>
            <div id="cc-brands" style="margin-top: 0.8rem; display: flex; gap: 0.5rem; color: hsl(var(--text-secondary)); font-size: 0.8rem; align-items: center; justify-content: flex-end;">
                Bandeiras aceitas no pedido: <b id="cc-allowed-brands">VISA, MASTERCARD</b>
            </div>
          </div>

          <!-- Campos de Boleto -->
          <div id="boleto-details" style="display: none; text-align: center; margin: 1.5rem 0; background: hsl(var(--bg-secondary)); padding: 1rem; border-radius: 8px; border: 1px dashed hsl(var(--text-secondary)/0.5);">
            <div style="margin-bottom: 1rem; color: hsl(var(--text-primary)); font-weight: bold; font-size: 1.1rem;">Banco Ita칰</div>
            <p style="font-size: 0.9rem; margin-bottom: 0.5rem; color: hsl(var(--text-secondary));">Vencimento em <strong>3 dias 칰teis</strong>.</p>
            <p style="font-size: 0.8rem; margin-bottom: 0.8rem; color: hsl(var(--text-secondary));">
              Ap칩s o vencimento, cobran칞a de juros de 1,5% ao dia.<br>
              Sujeito a cancelamento ap칩s o prazo de car칡ncia excedido.
            </p>
            <div style="font-size: 0.85rem; padding: 0.5rem; background: hsl(var(--primary)/0.1); border-radius: 4px; color: hsl(var(--primary)); text-align: left; margin-bottom: 0.8rem;">
              <span class="material-symbols-outlined" style="font-size: 1rem; vertical-align: middle; margin-right: 4px;">info</span>
              A libera칞칚o do pedido ocorre somente ap칩s a confirma칞칚o do pagamento. O boleto ser치 gerado no final da compra para salvar em PDF.
            </div>
            
            <label style="display: flex; align-items: center; justify-content: center; gap: 0.5rem; font-size: 0.9rem; color: hsl(var(--text-primary)); cursor: pointer;">
              <input type="checkbox" id="boleto-send-email" style="width: 16px; height: 16px; cursor: pointer;" checked>
              Receber notifica칞칚o do pedido por e-mail
            </label>
          </div>

          <button id="btn-confirm-payment" class="btn btn-primary btn-full" style="margin-top: 1rem;">Confirmar Pagamento e Gerar Pedido</button>
        </div>
      </div>
    </div>
